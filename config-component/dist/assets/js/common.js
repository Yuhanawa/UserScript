import{u as F,j as t,A as R,F as S,R as l,a as B,B as f}from"./vendor.js";import{L as O,T,C as D,a as M}from"./index.js";var z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function E(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var o=function a(){return this instanceof a?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};o.prototype=i.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var u=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(o,a,u.get?u:{enumerable:!0,get:function(){return e[a]}})}),o}const I=React,W=ReactDOM;const G=({menuKey:e})=>{var d;const i=F();let o={};const[a,u]=React.useState({}),[x,h]=React.useState([]),[m,g]=React.useState(2),[w,j]=React.useState("column"),b=n=>{const s=n.target.value;a.column=s,i.setSchema(a,!0),g(s)},v=n=>{const s=n.target.value;a.displayType=s,i.setSchema(a,!0),j(s)};(d=window.awa.userscript)!=null&&d[e]&&(o=window.awa.userscript[e].props),React.useEffect(()=>{var c,p;const n={};Object.keys(o).forEach(r=>{n[r]={type:"string",widget:"input",title:r,...o[r],default:window.awa.userscript[e].get(`${e}_${r}`,o[r].default),extra:`default: ${o[r].default}`},o[r].extra&&(n[r].widget=="line"?n[r].extra=o[r].extra:n[r].extra=o[r].extra+` default: ${o[r].default??o[r].defaultValue??""}`)});const s={type:"object",column:window.innerWidth>720?2:1,properties:n};u(s),h([{key:"top",href:"#config-top",title:"Top"}].concat(((p=(c=window.awa.userscript)==null?void 0:c[e])==null?void 0:p.anchors)||[]))},[e]);const _=n=>{for(const s of Object.keys(n)){if(s.startsWith(".")||s.startsWith("#"))continue;const c=n[s];c!=a.properties[s].default&&window.awa.userscript[e].set(`${e}_${s}`,c),location.reload()}},y=()=>i.submit(),C=()=>location.reload();return t.jsxs(t.Fragment,{children:[t.jsx("div",{id:"config-top",style:{padding:"0 0 18px 0",margin:"-2px"},children:t.jsx("div",{style:{backgroundColor:"#FCFCFC",padding:"8px",borderRadius:"8px"},children:t.jsx(R,{direction:"horizontal",items:x,affix:!0,offsetTop:"16px"})})}),t.jsx("div",{children:t.jsxs(S.Item,{label:"表单排版",style:{margin:"0px 1px 24px"},children:[t.jsxs(l.Group,{value:w,onChange:v,style:{margin:"0px 6px"},children:[t.jsx(l.Button,{value:"row",children:"row"}),t.jsx(l.Button,{value:"column",children:"column"}),t.jsx(l.Button,{value:"inline",disabled:!0,children:"Inline"})]}),t.jsxs(l.Group,{value:m,onChange:b,style:{margin:"0px 6px"},children:[t.jsx(l.Button,{value:1,children:"一列"}),t.jsx(l.Button,{value:2,children:"两列"}),t.jsx(l.Button,{value:3,children:"三列"}),t.jsx(l.Button,{value:4,children:"四列"})]})]})}),t.jsx(B,{form:i,schema:a,widgets:{Line:O,Twitter_user_rule_editor:T,CSDN_UI_editor:D,Twitter_rules_viewer:M},onFinish:_,maxWidth:360,footer:!1}),t.jsxs("div",{style:{position:"fixed",bottom:"18px",right:"24px",zIndex:999,fontSize:"18px",width:"auto",height:"auto"},children:[t.jsx(f,{onClick:C,type:"default",size:"large",style:{position:"relative",border:"1px solid #4ea1db",margin:"8px"},children:"取消"}),t.jsx(f,{onClick:y,type:"primary",size:"large",style:{position:"relative",border:"1px solid #4ea1db",margin:"8px",boxShadow:"1px 1px 14px #4ea1db"},children:"保存"})]})]})};export{G as F,I as _,W as a,E as b,z as c,A as g};
